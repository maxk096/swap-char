const test = require('ava')
const swapChar = require('./index')

test('Should swap two chars in a string', t => {
  t.is(swapChar('123', 0, 0), '123')
  t.is(swapChar('123', 0, 1), '213')
  t.is(swapChar('123', 0, 2), '321')
  t.is(swapChar('123', 1, 0), '213')
  t.is(swapChar('123', 1, 1), '123')
  t.is(swapChar('123', 1, 2), '132')
  t.is(swapChar('123', 2, 0), '321')
  t.is(swapChar('123', 2, 1), '132')
  t.is(swapChar('123', 2, 2), '123')
})

test('Should swap two chars in a string with negative indexes', t => {
  t.is(swapChar('123', -1, 0), '321')
  t.is(swapChar('123', -1, 1), '132')
  t.is(swapChar('123', -1, 2), '123')
  t.is(swapChar('123', -2, 0), '213')
  t.is(swapChar('123', -2, 1), '123')
  t.is(swapChar('123', -2, 2), '132')
  t.is(swapChar('123', -3, 0), '123')
  t.is(swapChar('123', -3, 1), '213')
  t.is(swapChar('123', -3, 2), '321')

  t.is(swapChar('123', 0, -1), '321')
  t.is(swapChar('123', 1, -1), '132')
  t.is(swapChar('123', 2, -3), '321')

  t.is(swapChar('123', -2, -1), '132')
  t.is(swapChar('123', -3, -2), '213')
  t.is(swapChar('123', -1, -3), '321')
})

test('Shoud handle edge cases properly', t => {
  t.is(swapChar('123', 5, 0), '123')
  t.is(swapChar('123', 0, 5), '123')
  t.is(swapChar('123', 5, 999), '123')
  t.is(swapChar('123', -99, -99), '123')
  t.throws(() => swapChar('123', Symbol(1), 0))
  t.is(swapChar([1, 2], 0, 1), ',12')
  t.is(swapChar('123', null, undefined), '123')
  t.is(swapChar('123', '1', '2'), '132')
  t.is(swapChar('123', 0.5, -1), '321')
  t.is(swapChar('123', /test/, -1), '123')
  t.is(swapChar('123', '', ''), '123')
  t.is(swapChar('123', '-1', '-2'), '132')
  t.is(swapChar('123', ' ', ' '), '123')
  t.is(swapChar(null), '')
  t.is(swapChar(undefined), '')
  t.is(swapChar(), '')
})
